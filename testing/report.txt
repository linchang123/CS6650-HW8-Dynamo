==========================================
DynamoDB Test with CloudWatch Monitoring
==========================================

Configuration:
  Target URL: http://cs6650l2-alb-1047819063.us-west-2.elb.amazonaws.com
  Test: test.go
  Monitoring: monitor_cloudwatch.sh

Starting CloudWatch monitoring...
Running DynamoDB test...

============================================================
Concurrent DynamoDB Shopping Cart Test (Go)
============================================================
Target: http://cs6650l2-alb-1047819063.us-west-2.elb.amazonaws.com
Concurrent Workers: 10
Total Operations: 150
  - Create Cart: 50
  - Add Items: 50
  - Get Cart: 50
Output: dynamodb_test_results.json
============================================================
‚úì Service is healthy
Using customer IDs: 64158 - 64207

Phase 1: Creating shopping carts concurrently...
‚úì Phase 1 complete
Phase 2: Adding items to carts concurrently...
‚úì Phase 2 complete
Phase 3: Retrieving carts concurrently...
‚úì Phase 3 complete

Results saved to: dynamodb_test_results.json
============================================================
TEST SUMMARY
============================================================
Total Duration: 1.13 seconds
Total Operations: 150
Successful: 150
Failed: 0
Success Rate: 100.00%

create_cart:
  Count: 50
  Success: 50/50
  Avg Response Time: 80.89 ms
  Min/Max: 64.99/128.98 ms

add_items:
  Count: 50
  Success: 50/50
  Avg Response Time: 87.14 ms
  Min/Max: 70.53/112.84 ms

get_cart:
  Count: 50
  Success: 50/50
  Avg Response Time: 41.32 ms
  Min/Max: 28.52/83.87 ms

‚úì Test completed within 5 minutes
‚úì All operations successful
============================================================

Waiting for monitoring to complete...

CLOUDWATCH METRICS SUMMARY
==========================================

Products Table Metrics:
  Read Capacity:        9 data points
  Write Capacity:        9 data points
  GetItem Latency:        9 data points

Carts Table Metrics:
  Read Capacity:        9 data points
  Write Capacity:        9 data points
  PutItem Latency:        9 data points
  GetItem Latency:        9 data points
  User Errors:        9 data points

ECS Metrics:
  CPU Utilization:        9 data points
  Memory Utilization:        9 data points

ALB Metrics:
  Response Time:        9 data points
  Request Count:        9 data points
  Healthy Hosts:        9 data points

To analyze metrics, run:
  python3 generate_dynamodb_report.py


==========================================
Test and Monitoring Complete!
==========================================

Generated files:
  - dynamodb_test_results.json (test results)
  - cloudwatch_metrics_dynamodb/ (all CloudWatch metrics)
  - monitoring_dynamodb.log (monitoring output)

Generating comprehensive report...

======================================================================
COMPREHENSIVE DYNAMODB TEST REPORT
======================================================================

üìä TEST RESULTS:
----------------------------------------------------------------------
Total Operations:     0
Successful:           0
Failed:               0
Success Rate:         0.00%

‚è±Ô∏è  RESPONSE TIMES:
----------------------------------------------------------------------
add_items            avg:  87.14ms  (min:  70.53ms, max: 112.84ms)
create_cart          avg:  80.89ms  (min:  64.99ms, max: 128.98ms)
get_cart             avg:  41.32ms  (min:  28.52ms, max:  83.87ms)

üì¶ PRODUCTS TABLE METRICS:
----------------------------------------------------------------------
Read Capacity Used:   32.00 units (total:  50.00)
Write Capacity Used:   0.00 units (total:   0.00)
GetItem Latency:       1.36ms (max:   1.37ms)

üõí CARTS TABLE METRICS:
----------------------------------------------------------------------
Read Capacity Used:   62.33 units (total: 100.00)
Write Capacity Used:  66.67 units (total: 100.00)
PutItem Latency:       5.12ms (max:   5.12ms)
GetItem Latency:       1.92ms (max:   1.94ms)

üöÄ ECS METRICS:
----------------------------------------------------------------------
CPU Utilization:       0.30% (max:   1.05%)
Memory Utilization:   11.27% (max:  11.91%)

‚öñÔ∏è  ALB METRICS:
----------------------------------------------------------------------
Response Time:         0.01s (max:   0.01s)
Total Requests:      151

üìà PERFORMANCE ANALYSIS:
----------------------------------------------------------------------
Grade: A

Excellent performance! All metrics within acceptable ranges for DynamoDB.

======================================================================
Report saved to: comprehensive_dynamodb_report.json
======================================================================

To compare with MySQL:
  cat comprehensive_dynamodb_report.json | jq '.performance_grade'
  cat comprehensive_report.json | jq '.performance_grade'
======================================================================
‚úì Comprehensive report generated: comprehensive_dynamodb_report.json

To compare with MySQL results:
  # View DynamoDB performance
  cat comprehensive_dynamodb_report.json | jq '.performance_grade'

  # View MySQL performance
  cat comprehensive_report.json | jq '.performance_grade'

  # Compare response times
  echo 'DynamoDB:' && cat dynamodb_test_results.json | jq '.statistics'
  echo 'MySQL:' && cat mysql_test_results.json | jq '.statistics'
